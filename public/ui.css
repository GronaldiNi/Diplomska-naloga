html, body { margin:0; padding:0; overflow:hidden; width:100%; height:100%; }

.catalog-btn { position:absolute; bottom:20px; left:120px; z-index:100; padding:10px; }
.opacity-slider { position:absolute; top:60px; right:20px; width:150px; z-index:120; }
.fps-select     { position:absolute; top:90px; right:20px; z-index:120; padding:4px; }
.ov-btn         { position:absolute; bottom:20px; left:20px; z-index:130; }
.ov-panel       { position:absolute; bottom:70px; left:20px; z-index:130;
    background:#222; color:#fff; padding:8px 10px; border:1px solid #555;
    border-radius:4px; display:none; }
    .ov-row { display:flex; align-items:center; gap:6px; }
    
    .date-box { position:absolute; top:20px; right:20px; z-index:110;
        font: bold 20px/1 sans-serif; color:#fff; text-shadow:0 0 4px #000; }
        
        .timeline-slider {
            position:absolute; left:50%; bottom:70px;
            transform:translateX(-50%);
            width:60%; z-index:110;
        }
        
        #chatPanel.chat-panel{
            position: fixed;
            right: 20px;
            top: 120px;
            bottom: 110px;
            width: 360px;
            display: flex;
            flex-direction: column;
            gap: 8px;
            z-index: 300;
            box-sizing: border-box;
        }
        
        .chat-close{
            position:absolute; right:6px; top:6px;
            z-index:1000;
            border:1px solid #666; background:rgba(255,255,255,.2); color:#fff;
            border-radius:8px; width:28px; height:28px; cursor:pointer;
        }
        
        #chatStatus{ font-size:12px; opacity:.85; color:#fff; }
        
        #chatMessages{
            flex: 1 1 auto;
            min-height: 0;
            overflow: auto;
            border-radius: 10px;
            padding: 10px;
            background: rgba(0,0,0,.45);
            color: #fff;
            backdrop-filter: blur(6px);
            margin-top: 28px;
        }
        
        .chat-body{
            display: flex;
            flex-direction: column;
            flex: 1 1 auto;
            min-height: 0;
        }
        
        
        .chat-msg{ padding:8px 10px; border-radius:10px; margin:6px 0; white-space:pre-wrap; }
        .chat-msg.user{ background:rgba(33,150,243,.2); align-self:flex-end; }
        .chat-msg.assistant{ background:rgba(255,255,255,.15); }
        
        #chatForm{ display:flex; gap:6px; }
        #chatInput{ flex:1; padding:8px 10px; border-radius:10px; border:1px solid #666; background:rgba(0,0,0,.3); color:#fff; }
        #chatSend,#chatStop{ padding:8px 10px; border-radius:10px; border:1px solid #666; background:rgba(255,255,255,.2); color:#fff; cursor:pointer; }
        #chatStop[disabled],#chatSend[disabled],#chatInput[disabled]{ opacity:.6; cursor:not-allowed; }
        
        #chatPanel.collapsed #chatStatus,
        #chatPanel.collapsed #chatMessages,
        #chatPanel.collapsed #chatForm { display: none; }
        
        #chatPanel.collapsed .reopen-row { display: flex; }
        
        .reopen-row{
            display: none;
            padding-top: 8px;
            margin-top: auto;
        }
        
        .chat-open{
            width: 100%;
            padding: 10px 14px; border-radius: 10px; border: 1px solid #666;
            background: rgba(255,255,255,.2); color: #fff; cursor: pointer;
        }
